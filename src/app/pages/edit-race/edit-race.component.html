<div class="hero min-h-screen bg-ghost">
  <div class="hero-content flex-col lg:flex-row-reverse">
    <div
      class="card flex-shrink-0 w-full max-w-sm shadow-2xl bg-base-100"
      *ngIf="isLoading"
    >
      <span class="loading loading-dots loading-lg"></span>
    </div>
    <div
      class="card flex-shrink-0 w-full max-w-sm shadow-2xl bg-base-100"
      *ngIf="!isLoading"
    >
      <form [formGroup]="raceForm">
        <div class="card-body">
          <div class="form-control">
            <label class="label">
              <span class="label-text">Nombre de la carrera</span>
            </label>
            <input
              type="text"
              placeholder="Patagonia Run"
              [ngClass]="
                (!raceForm.controls['name'].valid &&
                  raceForm.controls['name'].touched) ||
                (invalidControls.includes('name') &&
                  !raceForm.controls['name'].touched)
                  ? 'input input-bordered bg-white border-red-500'
                  : 'input input-bordered bg-white'
              "
              formControlName="name"
            />
          </div>
          <div class="form-control">
            <label class="label">
              <span class="label-text">Distancia</span>
            </label>
            <label class="input-group">
              <input
                type="number"
                placeholder="42"
                min="1"
                [ngClass]="
                  (!raceForm.controls['distance'].valid &&
                    raceForm.controls['distance'].touched) ||
                  (invalidControls.includes('distance') &&
                    !raceForm.controls['distance'].touched)
                    ? 'input input-bordered bg-white border-red-500'
                    : 'input input-bordered bg-white'
                "
                formControlName="distance"
              />
              <span>Km</span>
            </label>
          </div>
          <div class="form-control">
            <label class="label">
              <span class="label-text">Tiempo</span>
            </label>
            <input
              type="text"
              placeholder="hh:mm:ss"
              [ngClass]="
                (!raceForm.controls['time'].valid &&
                  raceForm.controls['time'].touched) ||
                (invalidControls.includes('time') &&
                  !raceForm.controls['time'].touched)
                  ? 'input input-bordered bg-white border-red-500'
                  : 'input input-bordered bg-white'
              "
              formControlName="time"
            />
          </div>
          <div class="form-control">
            <label class="label">
              <span class="label-text">Fecha</span>
            </label>
            <input
              type="date"
              name="date"
              placeholder="dd/mm/aaaa"
              class="input input-bordered bg-white"
              formControlName="date"
            />
          </div>
          <div class="form-control">
            <label class="label cursor-pointer">
              <span class="label-text">Actividad de Garmin?</span>
              <input
                type="checkbox"
                class="toggle toggle-secondary"
                (click)="toggleGarminLink($event)"
              />
            </label>
            <input
              *ngIf="garminActivity"
              type="text"
              placeholder="https://connect.garmin.com/modern/activity/xxxxxxxxx"
              [ngClass]="
                !raceForm.controls['garminUrl'].valid &&
                raceForm.controls['garminUrl'].touched
                  ? 'input input-bordered bg-white border-red-500'
                  : 'input input-bordered bg-white'
              "
              formControlName="garminUrl"
            />
          </div>
          <div class="form-control mt-6">
            <button class="btn btn-primary">Crear</button>
          </div>
        </div>
      </form>
    </div>
  </div>
</div>
